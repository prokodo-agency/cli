"use strict";(globalThis.webpackChunk_prokodo_agency_cli_docs=globalThis.webpackChunk_prokodo_agency_cli_docs||[]).push([[24],{2275(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"commands/verify","title":"verify","description":"Upload project files and trigger a cloud verification run with prokodo verify \u2014 flags, exit codes, and JSON output.","source":"@site/docs/commands/verify.mdx","sourceDirName":"commands","slug":"/commands/verify","permalink":"/docs/commands/verify","draft":false,"unlisted":false,"editUrl":"https://github.com/prokodo-agency/cli/edit/main/public/docs/docs/commands/verify.mdx","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":4,"frontMatter":{"id":"verify","title":"verify","sidebar_position":4,"description":"Upload project files and trigger a cloud verification run with prokodo verify \u2014 flags, exit codes, and JSON output.","keywords":["prokodo verify","prokodo cloud verification","prokodo verify command","prokodo file upload","prokodo verify flags"]},"sidebar":"cliSidebar","previous":{"title":"init","permalink":"/docs/commands/init"},"next":{"title":"credits","permalink":"/docs/commands/credits"}}');var s=n(6070),o=n(4134);const d={id:"verify",title:"verify",sidebar_position:4,description:"Upload project files and trigger a cloud verification run with prokodo verify \u2014 flags, exit codes, and JSON output.",keywords:["prokodo verify","prokodo cloud verification","prokodo verify command","prokodo file upload","prokodo verify flags"]},t="prokodo verify",c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Options",id:"options",level:2},{value:"What happens when you run <code>verify</code>",id:"what-happens-when-you-run-verify",level:2},{value:"Examples",id:"examples",level:2},{value:"JSON output schema",id:"json-output-schema",level:2},{value:"Log streaming",id:"log-streaming",level:2},{value:"Exit codes",id:"exit-codes",level:2},{value:"Adjusting <code>verifyGlobs</code>",id:"adjusting-verifyglobs",level:2}];function a(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"prokodo-verify",children:(0,s.jsx)(i.code,{children:"prokodo verify"})})}),"\n",(0,s.jsx)(i.p,{children:"Upload project files and trigger a cloud verification run."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"prokodo verify [options]\n"})}),"\n",(0,s.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(i.p,{children:["Before running ",(0,s.jsx)(i.code,{children:"verify"})," you need:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["An authenticated API key (",(0,s.jsx)(i.a,{href:"auth",children:(0,s.jsx)(i.code,{children:"auth login"})}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["A ",(0,s.jsx)(i.code,{children:".prokodo/config.json"})," in the current directory (",(0,s.jsx)(i.a,{href:"init",children:(0,s.jsx)(i.code,{children:"init"})}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Flag"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Default"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"--ref <ref>"})}),(0,s.jsx)(i.td,{children:"string"}),(0,s.jsx)(i.td,{children:"\u2014"}),(0,s.jsx)(i.td,{children:"Git ref, branch, or commit SHA to tag the run"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"--timeout <seconds>"})}),(0,s.jsx)(i.td,{children:"number"}),(0,s.jsx)(i.td,{children:"config value"}),(0,s.jsx)(i.td,{children:"Override the verification timeout"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"--no-logs"})}),(0,s.jsx)(i.td,{children:"boolean"}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"false"})}),(0,s.jsx)(i.td,{children:"Disable remote log streaming"})]})]})]}),"\n",(0,s.jsxs)(i.h2,{id:"what-happens-when-you-run-verify",children:["What happens when you run ",(0,s.jsx)(i.code,{children:"verify"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"1. Load .prokodo/config.json\n2. Validate --timeout (must be a positive finite number)\n3. Collect files matching verifyGlobs\n4. Resolve API key (flag \u2192 env var \u2192 credentials file)\n5. POST /api/cli/v1/verify/run\n6. Poll status + stream live logs (unless --no-logs)\n7. Fetch final result\n8. Print summary / emit JSON\n9. Exit 0 (pass) or 1 (fail) or 1 (timeout)\n"})}),"\n",(0,s.jsx)(i.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Basic run with live log streaming\nprokodo verify\n\n# Tag the run with the current git branch\nprokodo verify --ref $(git rev-parse --abbrev-ref HEAD)\n\n# Increase timeout for large projects\nprokodo verify --timeout 600\n\n# Silence log streaming (useful in CI where logs are noisy)\nprokodo verify --no-logs\n\n# Machine-readable output \u2014 combine with jq\nprokodo verify --json 2>/dev/null | jq .passed\n"})}),"\n",(0,s.jsx)(i.h2,{id:"json-output-schema",children:"JSON output schema"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "passed": true,\n  "runId": "run_abc123",\n  "result": {\n    "status": "success",\n    "summary": "All checks passed"\n  }\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"log-streaming",children:"Log streaming"}),"\n",(0,s.jsxs)(i.p,{children:["By default, ",(0,s.jsx)(i.code,{children:"verify"})," streams log lines from the cloud run in real-time to ",(0,s.jsx)(i.code,{children:"stderr"}),".  Use ",(0,s.jsx)(i.code,{children:"--no-logs"})," to suppress them, or redirect ",(0,s.jsx)(i.code,{children:"stderr"}),":"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Keep logs visible but capture JSON result\nprokodo verify --json 2>&1 1>/tmp/result.json\n"})}),"\n",(0,s.jsx)(i.h2,{id:"exit-codes",children:"Exit codes"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Code"}),(0,s.jsx)(i.th,{children:"Cause"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"0"})}),(0,s.jsx)(i.td,{children:"Verification passed"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"1"})}),(0,s.jsx)(i.td,{children:"Verification failed"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"1"})}),(0,s.jsx)(i.td,{children:"Timed out waiting for the run to complete"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"2"})}),(0,s.jsxs)(i.td,{children:["No ",(0,s.jsx)(i.code,{children:".prokodo/config.json"})," found"]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"2"})}),(0,s.jsxs)(i.td,{children:["Invalid ",(0,s.jsx)(i.code,{children:"--timeout"})," value"]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"2"})}),(0,s.jsxs)(i.td,{children:["No files matched ",(0,s.jsx)(i.code,{children:"verifyGlobs"})]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"2"})}),(0,s.jsx)(i.td,{children:"No API key configured"})]})]})]}),"\n",(0,s.jsxs)(i.h2,{id:"adjusting-verifyglobs",children:["Adjusting ",(0,s.jsx)(i.code,{children:"verifyGlobs"})]}),"\n",(0,s.jsxs)(i.p,{children:["Edit ",(0,s.jsx)(i.code,{children:".prokodo/config.json"})," to control which files are uploaded:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "projectSlug": "my-project",\n  "verifyGlobs": [\n    "src/**/*.ts",\n    "src/**/*.tsx",\n    "public/**/*",\n    "package.json"\n  ],\n  "timeout": 300\n}\n'})}),"\n",(0,s.jsx)(i.admonition,{type:"tip",children:(0,s.jsxs)(i.p,{children:["Exclude large build artifacts or test fixtures from ",(0,s.jsx)(i.code,{children:"verifyGlobs"})," to keep runs fast and credit-efficient."]})})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},4134(e,i,n){n.d(i,{R:()=>d,x:()=>t});var r=n(758);const s={},o=r.createContext(s);function d(e){const i=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(o.Provider,{value:i},e.children)}}}]);