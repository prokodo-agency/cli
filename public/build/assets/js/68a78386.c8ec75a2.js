"use strict";(globalThis.webpackChunk_prokodo_agency_cli_docs=globalThis.webpackChunk_prokodo_agency_cli_docs||[]).push([[484],{6639(e,o,n){n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"commands/doctor","title":"doctor","description":"Diagnose your local prokodo setup with prokodo doctor \u2014 checks Node version, credentials, config, and connectivity.","source":"@site/docs/commands/doctor.mdx","sourceDirName":"commands","slug":"/commands/doctor","permalink":"/docs/commands/doctor","draft":false,"unlisted":false,"editUrl":"https://github.com/prokodo-agency/cli/edit/main/public/docs/docs/commands/doctor.mdx","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":6,"frontMatter":{"id":"doctor","title":"doctor","sidebar_position":6,"description":"Diagnose your local prokodo setup with prokodo doctor \u2014 checks Node version, credentials, config, and connectivity.","keywords":["prokodo doctor","prokodo diagnose","prokodo environment check","prokodo doctor command","prokodo debug"]},"sidebar":"cliSidebar","previous":{"title":"credits","permalink":"/docs/commands/credits"},"next":{"title":"\ud83c\udf10 Global Options","permalink":"/docs/global-options"}}');var r=n(6070),s=n(4134);const c={id:"doctor",title:"doctor",sidebar_position:6,description:"Diagnose your local prokodo setup with prokodo doctor \u2014 checks Node version, credentials, config, and connectivity.",keywords:["prokodo doctor","prokodo diagnose","prokodo environment check","prokodo doctor command","prokodo debug"]},i="prokodo doctor",t={},l=[{value:"Checks performed",id:"checks-performed",level:2},{value:"Examples",id:"examples",level:2},{value:"Exit codes",id:"exit-codes",level:2},{value:"Use in CI",id:"use-in-ci",level:2},{value:"Verbose mode",id:"verbose-mode",level:2}];function a(e){const o={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"prokodo-doctor",children:(0,r.jsx)(o.code,{children:"prokodo doctor"})})}),"\n",(0,r.jsx)(o.p,{children:"Check your environment health before running verifications."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"prokodo doctor [global options]\n"})}),"\n",(0,r.jsx)(o.h2,{id:"checks-performed",children:"Checks performed"}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Check"}),(0,r.jsx)(o.th,{children:"What it verifies"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.strong,{children:"Node version"})}),(0,r.jsx)(o.td,{children:"Node.js \u2265 22 is installed"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.strong,{children:"API key configured"})}),(0,r.jsx)(o.td,{children:"At least one key source is available (flag / env var / file)"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.strong,{children:".prokodo/config.json"})}),(0,r.jsx)(o.td,{children:"A valid config file exists in the current working directory"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.strong,{children:"API reachability"})}),(0,r.jsx)(o.td,{children:"The prokodo API health endpoint responds within 10 seconds"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.strong,{children:"API key valid"})}),(0,r.jsx)(o.td,{children:"(Only if a key is present) The key is accepted by the API"})]})]})]}),"\n",(0,r.jsx)(o.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"# Text output with colour-coded icons\nprokodo doctor\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"\u2713  Node version               22.11.0 (required \u2265 22)\n\u2717  API key configured         Source: none\n\u2717  .prokodo/config.json       Config not found in /Users/you/my-project\n\u2713  API reachability           https://www.n8n-marketplace.prokodo.com \u2192 OK (v1.2.3)\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"# Machine-readable JSON \u2014 perfect for CI notifications\nprokodo doctor --json\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-json",children:'{\n  "passed": false,\n  "checks": [\n    { "name": "Node version",          "passed": true,  "detail": "22.11.0 (required \u2265 22)" },\n    { "name": "API key configured",    "passed": false, "detail": "Source: none" },\n    { "name": ".prokodo/config.json",  "passed": false, "detail": "Config not found in /Users/you/my-project" },\n    { "name": "API reachability",      "passed": true,  "detail": "https://www.n8n-marketplace.prokodo.com \u2192 OK (v1.2.3)" }\n  ]\n}\n'})}),"\n",(0,r.jsx)(o.h2,{id:"exit-codes",children:"Exit codes"}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Code"}),(0,r.jsx)(o.th,{children:"Cause"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"0"})}),(0,r.jsx)(o.td,{children:"All checks passed"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"1"})}),(0,r.jsx)(o.td,{children:"One or more checks failed"})]})]})]}),"\n",(0,r.jsxs)(o.admonition,{type:"tip",children:[(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.code,{children:"doctor"})," never exits ",(0,r.jsx)(o.code,{children:"2"})," \u2014 it is designed to always produce output.  Use it in CI to surface problems early:"]}),(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-yaml",children:"- name: Environment health check\n  run: prokodo doctor --json\n  continue-on-error: true   # report, don't fail the pipeline\n"})})]}),"\n",(0,r.jsx)(o.h2,{id:"use-in-ci",children:"Use in CI"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-yaml",children:'- name: prokodo doctor\n  run: |\n    OUTPUT=$(prokodo doctor --json)\n    echo "$OUTPUT" | jq .\n    echo "$OUTPUT" | jq -e \'.passed\'   # fails pipeline if not all checks pass\n'})}),"\n",(0,r.jsx)(o.h2,{id:"verbose-mode",children:"Verbose mode"}),"\n",(0,r.jsxs)(o.p,{children:["Add ",(0,r.jsx)(o.code,{children:"--verbose"})," to see debug-level detail on stderr while the checks run:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"prokodo doctor --verbose\n"})})]})}function h(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},4134(e,o,n){n.d(o,{R:()=>c,x:()=>i});var d=n(758);const r={},s=d.createContext(r);function c(e){const o=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),d.createElement(s.Provider,{value:o},e.children)}}}]);