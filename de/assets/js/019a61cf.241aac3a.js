"use strict";(globalThis.webpackChunk_prokodo_agency_cli_docs=globalThis.webpackChunk_prokodo_agency_cli_docs||[]).push([[208],{9913(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"ci-cd","title":"CI/CD-Integration","description":"prokodo CLI in CI/CD-Pipelines integrieren \u2014 GitHub Actions, GitLab CI, Umgebungsvariablen-Setup und Best Practices.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/ci-cd.mdx","sourceDirName":".","slug":"/ci-cd","permalink":"/de/docs/ci-cd","draft":false,"unlisted":false,"editUrl":"https://github.com/prokodo-agency/cli/edit/main/public/docs/docs/ci-cd.mdx","tags":[],"version":"current","lastUpdatedBy":"Christian Salat","lastUpdatedAt":1771684301000,"sidebarPosition":9,"frontMatter":{"id":"ci-cd","title":"CI/CD-Integration","sidebar_position":9,"description":"prokodo CLI in CI/CD-Pipelines integrieren \u2014 GitHub Actions, GitLab CI, Umgebungsvariablen-Setup und Best Practices.","keywords":["prokodo CI/CD","prokodo GitHub Actions","prokodo CI-Pipeline","prokodo automatische Verifizierung","prokodo GitLab CI"]},"sidebar":"cliSidebar","previous":{"title":"\u2699\ufe0f Configuration","permalink":"/de/docs/configuration"},"next":{"title":"\ud83d\udee0 Troubleshooting","permalink":"/de/docs/troubleshooting"}}');var t=i(6070),s=i(4134);const o={id:"ci-cd",title:"CI/CD-Integration",sidebar_position:9,description:"prokodo CLI in CI/CD-Pipelines integrieren \u2014 GitHub Actions, GitLab CI, Umgebungsvariablen-Setup und Best Practices.",keywords:["prokodo CI/CD","prokodo GitHub Actions","prokodo CI-Pipeline","prokodo automatische Verifizierung","prokodo GitLab CI"]},c="CI/CD-Integration",d={},l=[{value:"GitHub Actions",id:"github-actions",level:2},{value:"Einfacher Verifizierungs-Workflow",id:"einfacher-verifizierungs-workflow",level:3},{value:"Mit gecachtem Schritt",id:"mit-gecachtem-schritt",level:3},{value:"Ergebnis-Artefakt speichern",id:"ergebnis-artefakt-speichern",level:3},{value:"GitLab CI",id:"gitlab-ci",level:2},{value:"CircleCI",id:"circleci",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Lokale vs. CI-Umgebung",id:"lokale-vs-ci-umgebung",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cicd-integration",children:"CI/CD-Integration"})}),"\n",(0,t.jsx)(n.p,{children:"Die prokodo CLI ist vollst\xe4ndig nicht-interaktiv und CI-first gestaltet. Sie liest Geheimnisse aus Umgebungsvariablen und gibt strukturierte JSON-Ausgaben f\xfcr die maschinelle Verarbeitung zur\xfcck."}),"\n",(0,t.jsx)(n.h2,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,t.jsx)(n.h3,{id:"einfacher-verifizierungs-workflow",children:"Einfacher Verifizierungs-Workflow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"name: prokodo Verifizierung\n\non:\n  push:\n    branches: [main]\n  pull_request:\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '22'\n\n      - name: prokodo CLI installieren\n        run: npm install -g @prokodo/cli\n\n      - name: Projekt verifizieren\n        run: prokodo verify --json\n        env:\n          PROKODO_API_KEY: ${{ secrets.PROKODO_API_KEY }}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Den ",(0,t.jsx)(n.code,{children:"PROKODO_API_KEY"})," als ",(0,t.jsx)(n.a,{href:"https://docs.github.com/de/actions/security-guides/encrypted-secrets",children:"verschl\xfcsseltes Secret"})," in den Repository-Einstellungen speichern."]})}),"\n",(0,t.jsx)(n.h3,{id:"mit-gecachtem-schritt",children:"Mit gecachtem Schritt"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"- name: prokodo CLI installieren (gecacht)\n  run: |\n    npm install -g @prokodo/cli\n    prokodo --version\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ergebnis-artefakt-speichern",children:"Ergebnis-Artefakt speichern"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"- name: Verifizierung mit JSON-Ausgabe ausf\xfchren\n  run: prokodo verify --json > prokodo-ergebnis.json\n\n- name: Artefakt hochladen\n  uses: actions/upload-artifact@v4\n  with:\n    name: prokodo-ergebnis\n    path: prokodo-ergebnis.json\n"})}),"\n",(0,t.jsx)(n.h2,{id:"gitlab-ci",children:"GitLab CI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"prokodo-verify:\n  image: node:22\n  stage: test\n  script:\n    - npm install -g @prokodo/cli\n    - prokodo verify --json\n  variables:\n    PROKODO_API_KEY: $PROKODO_API_KEY\n  only:\n    - main\n    - merge_requests\n"})}),"\n",(0,t.jsx)(n.h2,{id:"circleci",children:"CircleCI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"version: 2.1\n\njobs:\n  prokodo-verify:\n    docker:\n      - image: cimg/node:22.0\n    steps:\n      - checkout\n      - run:\n          name: prokodo CLI installieren\n          command: npm install -g @prokodo/cli\n      - run:\n          name: Projekt verifizieren\n          command: prokodo verify --json\n          environment:\n            PROKODO_API_KEY: $PROKODO_API_KEY\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Empfehlung"}),(0,t.jsx)(n.th,{children:"Grund"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"PROKODO_API_KEY"})," als verschl\xfcsseltes Secret speichern"]}),(0,t.jsx)(n.td,{children:"Schl\xfcssel nie in Logs sichtbar"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"prokodo doctor --json"})," als Schritt vor ",(0,t.jsx)(n.code,{children:"verify"})," ausf\xfchren"]}),(0,t.jsx)(n.td,{children:"Umgebungsfehler fr\xfchzeitig erkennen"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--json"}),"-Flag f\xfcr alle CI-Aufrufe verwenden"]}),(0,t.jsx)(n.td,{children:"Maschinenlesbare Logs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Node 22 cachen"}),(0,t.jsx)(n.td,{children:"Schnellere Pipeline-Ausf\xfchrungszeiten"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"lokale-vs-ci-umgebung",children:"Lokale vs. CI-Umgebung"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Lokal"}),(0,t.jsx)(n.th,{children:"CI"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"API-Schl\xfcssel"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"~/.config/prokodo/credentials.json"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"PROKODO_API_KEY"})," Env-Variable"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Farbe"}),(0,t.jsx)(n.td,{children:"Aktiviert"}),(0,t.jsxs)(n.td,{children:["Deaktiviert (automatisch erkannt oder ",(0,t.jsx)(n.code,{children:"NO_COLOR=1"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Interaktive Eingabeaufforderungen"}),(0,t.jsx)(n.td,{children:"Ja (wenn TTY)"}),(0,t.jsx)(n.td,{children:"Nie"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Exit-Code-Sicherheit"}),(0,t.jsx)(n.td,{children:"Standard"}),(0,t.jsxs)(n.td,{children:["Wichtig \u2014 Pipeline schl\xe4gt bei ",(0,t.jsx)(n.code,{children:"!= 0"})," fehl"]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},4134(e,n,i){i.d(n,{R:()=>o,x:()=>c});var r=i(758);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);